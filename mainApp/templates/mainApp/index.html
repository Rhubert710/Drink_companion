<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Barlow+Condensed&family=Righteous">
    <title>Drink Companion</title>
</head>



<body>

    <script src="static/allDrinks.js"></script>
    

    <div id="app">

      <!-- header -->
      {% include "mainApp/header.html" %}


        <!-- router -->
        <div id="page_container">

          <!-- home page -->
          {% include "mainApp/homePage.html" with display='flex' %}

          <!-- drink page -->
          {% include "mainApp/drinkPage.html" %}


        </div>

    </div>


    
</body>
</html>

<style>

body{
  display: flex;

  flex-direction: colum;
  justify-content: center;

}
#app {
  display: flex;
  flex-direction: column;
  width: 100vw;
  max-width: 1400px;
  /* height: 100vh; */
  /* overflow: scroll; */
  /* align-items: center; */
}



@media (prefers-reduced-motion: no-preference) {
  .App-logo {
    animation: App-logo-spin infinite 20s linear;
  }
}




@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media only screen and (max-width: 1200px){


}

@media only screen and (max-width: 900px){

}
</style>

<script>

const populatePage = {

  default: ()=> { return },

  '/drink': ()=> update_drinkPage(),

}

function navigate_to( newUrl ){

  history.pushState( {}, "", newUrl );

  let newPage = window.location.pathname;
  loadPage( newPage );

}


function loadPage(newPage ){

  let newPage_div = document.querySelector( `[data-page = "${newPage}"` );

  document.querySelectorAll('.page').forEach((page)=> page.style['opacity'] = '0')
  
  populatePage[newPage]() || populatePage['default'];

  setTimeout(()=>{

    document.querySelectorAll('.page').forEach((page)=> page.style['display'] = 'none')
    newPage_div.style['display'] = 'flex';
    
    setTimeout(()=> newPage_div.style['opacity'] = '1', 11);


  },400);
}



  


window.addEventListener("popstate", event => {

                // Grab the history state id
                // let prev_state = event.state;

                // console.log(new URLSearchParams(window.location.search).keys);
                // Visually select the clicked button/tab/box
                // select_tab(stateId);
                // Load content for this tab/page
                // load_content(stateId);

                loadPage(window.location.pathname)
            });

</script>